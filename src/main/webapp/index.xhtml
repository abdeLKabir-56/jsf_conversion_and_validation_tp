


<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">

<h:head>
    <title>JSF Client App</title>
     <link rel="stylesheet" href="css/bootstrap.min.css" />
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
</h:head>

<h:body class="container">
    <h1 class="text-center">TP JSF</h1>

    <!-- Saisie des Clients -->
    
    <h:form class="mb-4">
        <h2>Ajouter un client</h2>
        
        <div class="form-group">
            <h:outputLabel value="Civilité:"/>
            <h:inputText id="civilite" class="form-control" value="#{client.civilite}" required="true" requiredMessage="veulliez entrez votre civilite:"/>
            <h:message for="civilite" class="alert-danger form-control" style="margin-top:10px;" ></h:message>
        </div>
        
        <div class="form-group">
            <h:outputLabel value="Nom:"/>
            <h:inputText id="nom" class="form-control" value="#{client.nom}" required="true" requiredMessage="veulliez entrez votre nom:"/>
            <h:message for="nom" class="alert-danger form-control" style="margin-top:10px;" ></h:message>
        </div>
        
        <div class="form-group">
            <h:outputLabel value="Prénom:"/>
            <h:inputText id="prenom" class="form-control" value="#{client.prenom}" required="true" requiredMessage="veulliez entrez votre prenom:"/>
            <h:message for="prenom" class="alert-danger form-control" style="margin-top:10px;" ></h:message>
        </div>
        
        <div class="form-group">
            <h:outputLabel value="Code postal:"/>
            <h:inputText id="CP" class="form-control" value="#{client.cp}" required="true" requiredMessage="veulliez entrez votre Code postal:" validatorMessage="veulliez entrez un code postale valide">
            			<f:validateLength minimum="5"  /><f:validateLongRange maximum="90000" minimum="10000" />
            </h:inputText>
            <h:message for="CP" class="alert-danger form-control" style="margin-top:10px;" ></h:message>
        </div>
        
        <div class="form-group">
            <h:outputLabel value="Ville:"/>
            <h:inputText class="form-control" value="#{client.ville}" id="ville"    validatorMessage="veulliez entrez une ville(entre 1 et 10 caracterts)" >
            		<f:validateLength minimum="1" maximum="10"  ></f:validateLength>
            </h:inputText>
            <h:message for="ville" class="alert-danger form-control" style="margin-top:10px;" ></h:message>
        </div>
        
        <div class="form-group">
            <h:outputLabel value="Date de naissance:"/>
            <h:inputText id="dateN" class="form-control" value="#{client.dateN}" required="true" requiredMessage="veulliez entrez votre date de naissance:">
            <f:convertDateTime pattern = "dd-mm-yyyy" />
            </h:inputText>
            <h:message for="dateN" class="alert-danger form-control" style="margin-top:10px;" ></h:message>
        </div>
        
        <div class="form-group">
            <h:outputLabel value="Mail:"/>
            <h:inputText id="mail" class="form-control" value="#{client.mail}" required="true" requiredMessage="veulliez entrez votre mail:"/>
           <h:message for="mail" class="alert-danger form-control" style="margin-top:10px;" ></h:message>
        </div>
        
        <div class="form-group">
            <h:outputLabel value="Téléphone:"/>
            <h:inputText id="tel" class="form-control" value="#{client.tel}" required="true" requiredMessage="veulliez entrez votre numero de Téléphone:"/>
            <h:message for="tel" class="alert-danger form-control" style="margin-top:10px;" ></h:message>
        </div>
        <h:commandButton class="btn btn-primary" action="#{client.save}" value="Enregistrer"/>
        <!--  i just add this tag for displaying global messages
          <h:messages id="globalMessage" class="alert-danger form-control" style="list-style:none;"/>
          -->
    </h:form>
    
    
    
    <!-- Affichage des Clients -->
    
<div class="table-responsive">
    <h:form>
        <h:dataTable value="#{client.listClient}" var="list" class="table table-striped table-bordered table-hover">
            <h:column>
                <f:facet name="header">Civilité</f:facet>
                <h:outputText value="#{list.civilite}"/>
            </h:column>
            <h:column>
                <f:facet name="header">Nom</f:facet>
                <h:outputText value="#{list.nom}"/>
            </h:column>
            <h:column>
                <f:facet name="header">Prénom</f:facet>
                <h:outputText value="#{list.prenom}"/>
            </h:column>
            <h:column>
                <f:facet name="header">Code Postal</f:facet>
                <h:outputText value="#{list.cp}">
                <f:convertNumber currencySymbol="%" type="percent"/>
                </h:outputText>
            </h:column>
            <h:column>
                <f:facet name="header">Ville</f:facet>
                <h:outputText value="#{list.ville}"/>
            </h:column>
            <h:column>
                <f:facet name="header">Date de Naissance</f:facet>
                <h:outputText value="#{list.dateN}" >
                	<f:convertDateTime dateStyle="full" />
               </h:outputText>
            </h:column>
            <h:column>
                <f:facet name="header">E-mail</f:facet>
                <h:outputText value="#{list.mail}"/>
            </h:column>
            <h:column>
                <f:facet name="header">Téléphone</f:facet>
                <h:outputText value="#{list.tel}"/>
            </h:column>
        </h:dataTable>
      </h:form>
</div>

</h:body>

</html>

